SL("data").templates = {
    NEW_DECK_TEMPLATE: {html: ["<section>", '<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 250px;">', '<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">', "<h1>Title Text</h1>", "</div>", "</div>", "</section>"].join("")},
    DEFAULT_TEMPLATES: [{html: ["<section>", '<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 270px;">', '<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">', "<h1>Title Text</h1>", "</div>", "</div>", "</section>"].join("")}, {html: ["<section>", '<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 190px;">', '<div class="sl-block-content" data-placeholder-tag="h1" data-placeholder-text="Title Text">', "<h1>Title Text</h1>", "</div>", "</div>", '<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 255px;" data-layout-method="belowPreviousBlock">', '<div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Subtitle">', "<h2>Subtitle</h2>", "</div>", "</div>", "</section>"].join("")}, {html: ["<section>", '<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 190px;">', '<div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text">', "<h2>Title Text</h2>", "</div>", "</div>", '<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 264px;" data-layout-method="belowPreviousBlock">', '<div class="sl-block-content">', "<ul>", "<li>Bullet One</li>", "<li>Bullet Two</li>", "<li>Bullet Three</li>", "</ul>", "</div>", "</div>", "</section>"].join("")}, {html: ["<section>", '<div class="sl-block" data-block-type="text" style="width: 410px; left: 49px; top: 106px; height: auto;">', '<div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text" style="text-align: left;">', "<h2>Title Text</h2>", "</div>", "</div>", '<div class="sl-block" data-block-type="text" style="width: 410px; left: 49px; top: 200px; height: auto;">', '<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin urna odio, aliquam vulputate faucibus id, elementum lobortis felis. Mauris urna dolor, placerat ac sagittis quis." style="text-align: left;">', "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin urna odio, aliquam vulputate faucibus id, elementum lobortis felis. Mauris urna dolor, placerat ac sagittis quis.</p>", "</div>", "</div>", '<div class="sl-block" data-block-type="text" style="width: 410px; left: 499px; top: 106px; height: auto;">', '<div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text" style="text-align: left;">', "<h2>Title Text</h2>", "</div>", "</div>", '<div class="sl-block" data-block-type="text" style="width: 410px; left: 499px; top: 200px; height: auto;">', '<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin urna odio, aliquam vulputate faucibus id, elementum lobortis felis. Mauris urna dolor, placerat ac sagittis quis." style="text-align: left;">', "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin urna odio, aliquam vulputate faucibus id, elementum lobortis felis. Mauris urna dolor, placerat ac sagittis quis.</p>", "</div>", "</div>", "</section>"].join("")}, {html: ["<section>", '<div class="sl-block" data-block-type="text" style="width: 900px; left: 30px; top: 58px; height: auto;">', '<div class="sl-block-content" data-placeholder-tag="h1" style="font-size: 200%; text-align: left;">', "<h1>One<br>Two<br>Three</h1>", "</div>", "</div>", "</section>"].join("")}, {html: ["<section>", '<div class="sl-block" data-block-type="text" style="width: 800px; left: 79px; top: 50px;">', '<div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text">', "<h2>Title Text</h2>", "</div>", "</div>", '<div class="sl-block" data-block-type="image" style="width: 700px; height: 475px; left: 129px; top: 144px;">', '<div class="sl-block-content">', '<div class="editing-ui sl-block-overlay sl-block-placeholder"></div>', "</div>", "</div>", "</section>"].join("")}, {html: ["<section>", '<div class="sl-block" data-block-type="text" style="width: 430px; left: 23px; top: 87px;">', '<div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text" style="text-align: left;">', "<h2>Title Text</h2>", "</div>", "</div>", '<div class="sl-block" data-block-type="text" style="width: 430px; left: 23px; top: 161px;" data-layout-method="belowPreviousBlock">', '<div class="sl-block-content" data-placeholder-tag="p" data-placeholder-text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nec metus justo. Aliquam erat volutpat." style="z-index: 13; text-align: left;">', "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nec metus justo. Aliquam erat volutpat.</p>", "</div>", "</div>", '<div class="sl-block" data-block-type="image" style="width: 454px; height: 641px; left: 479px; top: 29px;">', '<div class="sl-block-content">', '<div class="editing-ui sl-block-overlay sl-block-placeholder"></div>', "</div>", "</div>", "</section>"].join("")}, {html: ["<section>", '<div class="sl-block" data-block-type="image" style="width: 700px; height: 475px; left: 130px; top: 65px;">', '<div class="sl-block-content">', '<div class="editing-ui sl-block-overlay sl-block-placeholder"></div>', "</div>", "</div>", '<div class="sl-block" data-block-type="text" style="width: 800px; left: 80px; top: 575px;">', '<div class="sl-block-content" data-placeholder-tag="h2" data-placeholder-text="Title Text">', "<h2>Title Text</h2>", "</div>", "</div>", "</section>"].join("")}],
    LAYOUT_METHODS: {
        belowPreviousBlock: function (t, e) {
            var i = e.prev().get(0);
            i && e.css("top", i.offsetTop + i.offsetHeight)
        }
    },
    getNewDeckTemplate: function () {
        return new SL.models.Template(SL.data.templates.NEW_DECK_TEMPLATE)
    },
    getDefaultTemplates: function () {
        return new SL.collections.Collection(SL.data.templates.DEFAULT_TEMPLATES, SL.models.Template)
    },
    userTemplatesLoaded: false,
    userTemplatesLoading: false,
    userTemplatesCallbacks: [],
    getUserTemplates: function (t) {
        t = t || function () {
            }, SL.data.templates.userTemplatesLoading === false && SL.data.templates.userTemplatesLoaded === false ? (SL.data.templates.userTemplatesLoading = true, SL.data.templates.userTemplatesCallbacks.push(t), $.ajax({
            type: "GET",
            url: SL.config.AJAX_SLIDE_TEMPLATES_LIST,
            context: this
        }).done(function (t) {
            SL.data.templates.userTemplates = new SL.collections.Collection(t.results, SL.models.Template), SL.data.templates.userTemplatesLoaded = true, SL.data.templates.userTemplatesLoading = false, SL.data.templates.userTemplatesCallbacks.forEach(function (t) {
                t.call(null, SL.data.templates.userTemplates)
            }), SL.data.templates.userTemplatesCallbacks.length = 0
        }).fail(function () {
            SL.data.templates.userTemplatesLoading = false, SL.notify(SL.locale.get("TEMPLATE_LOAD_ERROR"), "negative")
        })) : SL.data.templates.userTemplatesLoading ? SL.data.templates.userTemplatesCallbacks.push(t) : t.call(null, SL.data.templates.userTemplates)
    },
    teamTemplatesLoaded: false,
    teamTemplatesLoading: false,
    teamTemplatesCallbacks: [],
    getTeamTemplates: function (t) {
        SL.current_user.isEnterprise() && (t = t || function () {
            }, SL.data.templates.teamTemplatesLoading === false && SL.data.templates.teamTemplatesLoaded === false ? (SL.data.templates.teamTemplatesLoading = true, SL.data.templates.teamTemplatesCallbacks.push(t), $.ajax({
            type: "GET",
            url: SL.config.AJAX_TEAM_SLIDE_TEMPLATES_LIST,
            context: this
        }).done(function (t) {
            SL.data.templates.teamTemplates = new SL.collections.Collection(t.results, SL.models.Template), SL.data.templates.teamTemplatesLoaded = true, SL.data.templates.teamTemplatesLoading = false, SL.data.templates.teamTemplatesCallbacks.forEach(function (t) {
                t.call(null, SL.data.templates.teamTemplates)
            }), SL.data.templates.teamTemplatesCallbacks.length = 0
        }).fail(function () {
            SL.data.templates.teamTemplatesLoading = false, SL.notify(SL.locale.get("TEMPLATE_LOAD_ERROR"), "negative")
        })) : SL.data.templates.teamTemplatesLoading ? SL.data.templates.teamTemplatesCallbacks.push(t) : t.call(null, SL.data.templates.teamTemplates))
    },
    layoutTemplate: function (t, e) {
        t.find(".sl-block").each(function (i, n) {
            n = $(n);
            var s = n.attr("data-layout-method");
            s && "function" == typeof SL.data.templates.LAYOUT_METHODS[s] && (e || n.removeAttr("data-layout-method"), SL.data.templates.LAYOUT_METHODS[s](t, n))
        })
    },
    templatize: function (t, e) {
        t = $(t), e = $.extend({placeholderText: false, zIndex: true}, e);
        var i = SL.editor.controllers.Serialize.getSlideAsString(t, {
            templatize: true,
            inner: true
        }), n = $("<section>" + i + "</section>");
        return n.children().each(function (t, i) {
            i = $(i), i.css({"min-width": "", "min-height": ""});
            var n = i.find(".sl-block-content");
            if (e.placeholderText && "text" === i.attr("data-block-type") && 1 === n.children().length) {
                var s = $(n.children()[0]);
                s.is("h1, h2") ? (s.html("Title Text"), n.attr("data-placeholder-text", "Title Text")) : s.is("p") && n.attr("data-placeholder-text", s.text().trim())
            }
            e.zIndex === false && n.css("z-index", "")
        }), ["class", "data-autoslide", "data-transition", "data-transition-speed", "data-background", "data-background-color", "data-background-image", "data-background-size"].forEach(function (e) {
            t.attr(e) && n.attr(e, t.attr(e))
        }), n.removeClass("past present future"), n.prop("outerHTML").trim()
    },
    generateFullSizeImageBlock: function (t, e, i, n, s) {
        var o = Math.min(n / e, s / i), a = e * o, r = i * o, l = Math.round((SL.config.SLIDE_WIDTH - a) / 2), c = Math.round((SL.config.SLIDE_HEIGHT - r) / 2);
        return ['<div class="sl-block" data-block-type="image" style="width: ' + a + "px; height: " + r + "px; left: " + l + "px; top: " + c + 'px;">', '<div class="sl-block-content">', '<img src="' + t + '" style="" data-natural-width="' + e + '" data-natural-height="' + i + '"/>', "</div>", "</div>"].join("")
    }
};